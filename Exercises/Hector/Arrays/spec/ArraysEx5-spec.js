/****************************************************************************

Name: ArraysEx5.js
Search: label:interns subject:arrex5
Target: Exercises/$1/Arrays
Function: morseEnc

****************************************************************************/


"use strict";

var getScriptMetadata = require("./../../../../get_script_metadata");

const DeliveryLimit = new Date(2016, 8, 6, 10, 0, 1);

var MORSE = 'var MORSE = [{"morse": ".-","char": "A"},{"morse": "-...","char": "B"},{"morse": "-.-.","char": "C"},{"morse": "-..","char": "D"},{"morse": ".","char": "E"},{"morse": "..-.","char": "F"},{"morse": "--.","char": "G"},{"morse": "....","char": "H"},{"morse": "..","char": "I"},{"morse": ".---","char": "J"},{"morse": "-.-","char": "K"},{"morse": ".-..","char": "L"},{"morse": "--","char": "M"},{"morse": "-.","char": "N"},{"morse": "---","char": "O"},{"morse": ".--.","char": "P"},{"morse": "--.-","char": "Q"},{"morse": ".-.","char": "R"},{"morse": "...","char": "S"},{"morse": "-","char": "T"},{"morse": "..-","char": "U"},{"morse": "...-","char": "V"},{"morse": ".--","char": "W"},{"morse": "-..-","char": "X"},{"morse": "-.--","char": "Y"},{"morse": "--..","char": "Z"},{"morse": "-----","char": "0"},{"morse": ".----","char": "1"},{"morse": "..---","char": "2"},{"morse": "...--","char": "3"},{"morse": "....-","char": "4"},{"morse": ".....","char": "5"},{"morse": "-....","char": "6"},{"morse": "--...","char": "7"},{"morse": "---..","char": "8"},{"morse": "----.","char": "9"} ];';
// const MORSE = [{"morse": ".-","char": "A"},{"morse": "-...","char": "B"},{"morse": "-.-.","char": "C"},{"morse": "-..","char": "D"},{"morse": ".","char": "E"},{"morse": "..-.","char": "F"},{"morse": "--.","char": "G"},{"morse": "....","char": "H"},{"morse": "..","char": "I"},{"morse": ".---","char": "J"},{"morse": "-.-","char": "K"},{"morse": ".-..","char": "L"},{"morse": "--","char": "M"},{"morse": "-.","char": "N"},{"morse": "---","char": "O"},{"morse": ".--.","char": "P"},{"morse": "--.-","char": "Q"},{"morse": ".-.","char": "R"},{"morse": "...","char": "S"},{"morse": "-","char": "T"},{"morse": "..-","char": "U"},{"morse": "...-","char": "V"},{"morse": ".--","char": "W"},{"morse": "-..-","char": "X"},{"morse": "-.--","char": "Y"},{"morse": "--..","char": "Z"},{"morse": "-----","char": "0"},{"morse": ".----","char": "1"},{"morse": "..---","char": "2"},{"morse": "...--","char": "3"},{"morse": "....-","char": "4"},{"morse": ".....","char": "5"},{"morse": "-....","char": "6"},{"morse": "--...","char": "7"},{"morse": "---..","char": "8"},{"morse": "----.","char": "9"} ];
// const MORSE = [ { "morse": ".-", "char": "A" }, { "morse": "-...", "char": "B" }, { "morse": "-.-.", "char": "C" }, { "morse": "-..", "char": "D" }, { "morse": ".", "char": "E" }, { "morse": "..-.", "char": "F" }, { "morse": "--.", "char": "G" }, { "morse": "....", "char": "H" }, { "morse": "..", "char": "I" }, { "morse": ".---", "char": "J" }, { "morse": "-.-", "char": "K" }, { "morse": ".-..", "char": "L" }, { "morse": "--", "char": "M" }, { "morse": "-.", "char": "N" }, { "morse": "---", "char": "O" }, { "morse": ".--.", "char": "P" }, { "morse": "--.-", "char": "Q" }, { "morse": ".-.", "char": "R" }, { "morse": "...", "char": "S" }, { "morse": "-", "char": "T" }, { "morse": "..-", "char": "U" }, { "morse": "...-", "char": "V" }, { "morse": ".--", "char": "W" }, { "morse": "-..-", "char": "X" }, { "morse": "-.--", "char": "Y" }, { "morse": "--..", "char": "Z" }, { "morse": "-----", "char": "0" }, { "morse": ".----", "char": "1" }, { "morse": "..---", "char": "2" }, { "morse": "...--", "char": "3" }, { "morse": "....-", "char": "4" }, { "morse": ".....", "char": "5" }, { "morse": "-....", "char": "6" }, { "morse": "--...", "char": "7" }, { "morse": "---..", "char": "8" }, { "morse": "----.", "char": "9" }, { "morse": ".--.-", "char": "Á" }, { "morse": "..-..", "char": "É" }, { "morse": "..--", "char": "Í" }, { "morse": "---...---", "char": "Ó" }, { "morse": "..-..-", "char": "Ú" }, { "morse": "--.--", "char": "Ñ" }, { "morse": "--..--", "char": "," }, { "morse": "---...", "char": "." } ];

const texts = [
  {
    text: "hoLa muNdO",
    morse: ".... --- .-.. .-     -- ..- -. -.. ---"
  },
  {
    text: "hola  mundo",
    morse: ".... --- .-.. .-     -- ..- -. -.. ---"
  },
  {
    text: "hola  mundo&^&$%^(**&%^^&*&^&$%",
    morse: ".... --- .-.. .-     -- ..- -. -.. ---"
  },
  {
    text: "However, the standard does not specify how long that is.",
    morse: ".... --- .-- . ...- . .-.     - .... .     ... - .- -. -.. .- .-. -..     -.. --- . ...     -. --- -     ... .--. . -.-. .. ..-. -.--     .... --- .--     .-.. --- -. --.     - .... .- -     .. ..."
  },
  {
    text: " this string starts with an space",
    morse: "    - .... .. ...     ... - .-. .. -. --.     ... - .- .-. - ...     .-- .. - ....     .- -.     ... .--. .- -.-. ."
  },
  {
    text: "this string has an space at the end ",
    morse: "- .... .. ...     ... - .-. .. -. --.     .... .- ...     .- -.     ... .--. .- -.-. .     .- -     - .... .     . -. -..    "
  }
];

const veryLongText = {
  text: "En un lugar de la Mancha, de cuyo nombre no quiero acordarme, no ha mucho tiempo que vivia un hidalgo de los de lanza en astillero, adarga antigua, rocin flaco y galgo corredor. Una olla de algo mas vaca que carnero, salpicon las mas noches, duelos y quebrantos los sábados, lantejas los viernes, algun palomino de añadidura los domingos consumian las tres partes de su hacienda. El resto della concluian sayo de velarte, calzas de velludo para las fiestas con sus pantuflos de lo mismo, y los dias de entre semana se honraba con su vellorí de lo mas fino. Tenia en su casa una ama que pasaba de los cuarenta, y una sobrina que no llegaba á los veinte, y un mozo de campo y plaza, que asi ensillaba el rocin como tomaba la podadera. Frisaba la edad de nuestro hidalgo con los cincuenta años: era de complexion recia, seco de carnes, enjuto de rostro, gran madrugador y amigo de la caza. Quieren decir que tenia el sobrenombre de Quijada ó Quesada (que en esto hay alguna diferencia en los autores que deste caso escriben), aunque por conjeturas verosímiles se deja entender que se llamaba Quijana. Pero esto importa poco á nuestro cuento: basta que en la narracion dél no se salga un punto de la verdad. Es pues de saber que este sobredicho hidalgo los ratos que estaba ocioso (que eran los mas del año) se daba á leer libros de caballerías, con tanta aficion y gusto, que olvidó casi de todo punto el ejercicio de la caza, y aun la administracion de su hacienda; y llegó á tanto su casa todos cuantos pudo haber dellos: y de todos ningunos le parecian tan bien como los que compuso el famoso Feliciano de Silva; porque la claridad de su prosa, y aquellas entricadas razones suyas le parecian de perlas: y mas cuando llegaba á leer aquellos requiebros y cartas de desafío, donde en muchas partes hallaba escrito: La razon de la sinrazon que á mi razon se hace, de tal manera mi razon enflaquece , que con ra zon me quejo de la vuestra fermosura. Y tambien cuando leia: Los altos cielos que de vuestra divinidad divinamente con las estrellas os fortifican , y os hacen merecedora del merecimiento que merece la vuestra grandeza. Con estas razones perdia el pobre caballero el juicio, y desvelábase por entenderlas y desentrañarles el sentido, que no se lo sacára ni las entendiera el mismo Aristóteles si resucitára para solo ello. No estaba muy bien con las heridas que don Belianís daba y recibia, porque se imaginaba que por grandes maestros que le hubiesen curado no dejaria de tener el rostro y todo el cuerpo lleno de cicatrices y señ ales. Pero con todo alababa en su autor aquel acabar su libro con la promesa de aquella inacabable aventura, y muchas veces le vino deseo de tomar la pluma, y dalle fin al pie de la letra como allí se promete: y sin duda alguna lo hiciera, y aun saliera con ello, si otros mayores y continuos pensamientos no se lo estorbáran. Tuvo muchas veces competencia con el cura de su lugar (que era hombre docto, graduado en Sigüenza) sobre cual habia sido mejor caballero, Palmerin de Inglaterra, ó Amadis de Gaula: mas maese Nicolás, barbero del mismo pueblo, decia que ninguno llegaba al caballero del Febo, y que si alguno se le podia comparar, era don Galaor, hermano de Amadis de Gaula, porque tenia muy acomodada condicion para todo; que no era caballero melindroso, ni tan lloron como su hermano, y que en lo de la valentía no le iba en zaga. En resolucion, él se enfrascó tanto en su lectura, que se le pasaban las noches leyendo de claro en claro, y los dias de turbio en turbio, y asi del poco dormir y del mucho leer se le secó el celebro de manera que vino á perder el juicio. Llenósele la fantasía de todo aquello que leia en los libros, asi de encantamentos, como de pendencias, batallas, desafíos, heridas, requiebros, amores, tormentas y disparates imposibles. Y asentósele de tal modo en la imaginacion que era verdad toda aquella máquina de aquellas soñadas invenciones que leia, que para él no habia otra historia mas cierta en el mundo. Decia él que el Cid Rui Diaz habia sido muy buen caballero; pero que no tenia que ver con el caballero de la ardiente Espada, que de solo un revés habia partido por medio dos fieros y descomunales gigantes. Mejor estaba con Bernardo del Carpio porque en Roncesvalles habia muerto á Roldan el encantado, valiéndose de la industria de Hércules cuando ahogó á Anteon, el hijo de la Tierra entre los brazos. Decia mucho bien del gigante Morgante, porque con ser de aquella generacion gigantea, que todos son soberbios y descomedidos, él solo era afable y bien criado. Pero sobre todos estaba bien con Reynaldos de Montalvan, y mas cuando le veia salir de su castillo, y robar cuantos topaba, y cuando en allende robó aquel ídolo de Mahoma, que era todo de oro, segun dice su historia. Diera él, por dar una mano de coces al traidor de Galalon, al ama que tenia y aun á su sobrina de añadidura.",
  morse: ". -.     ..- -.     .-.. ..- --. .- .-.     -.. .     .-.. .-     -- .- -. -.-. .... .- --..--     -.. .     -.-. ..- -.-- ---     -. --- -- -... .-. .     -. ---     --.- ..- .. . .-. ---     .- -.-. --- .-. -.. .- .-. -- . --..--     -. ---     .... .-     -- ..- -.-. .... ---     - .. . -- .--. ---     --.- ..- .     ...- .. ...- .. .-     ..- -.     .... .. -.. .- .-.. --. ---     -.. .     .-.. --- ...     -.. .     .-.. .- -. --.. .-     . -.     .- ... - .. .-.. .-.. . .-. --- --..--     .- -.. .- .-. --. .-     .- -. - .. --. ..- .- --..--     .-. --- -.-. .. -.     ..-. .-.. .- -.-. ---     -.--     --. .- .-.. --. ---     -.-. --- .-. .-. . -.. --- .-. ---...     ..- -. .-     --- .-.. .-.. .-     -.. .     .- .-.. --. ---     -- .- ...     ...- .- -.-. .-     --.- ..- .     -.-. .- .-. -. . .-. --- --..--     ... .- .-.. .--. .. -.-. --- -.     .-.. .- ...     -- .- ...     -. --- -.-. .... . ... --..--     -.. ..- . .-.. --- ...     -.--     --.- ..- . -... .-. .- -. - --- ...     .-.. --- ...     ... .--.- -... .- -.. --- ... --..--     .-.. .- -. - . .--- .- ...     .-.. --- ...     ...- .. . .-. -. . ... --..--     .- .-.. --. ..- -.     .--. .- .-.. --- -- .. -. ---     -.. .     .- --.-- .- -.. .. -.. ..- .-. .-     .-.. --- ...     -.. --- -- .. -. --. --- ...     -.-. --- -. ... ..- -- .. .- -.     .-.. .- ...     - .-. . ...     .--. .- .-. - . ...     -.. .     ... ..-     .... .- -.-. .. . -. -.. .- ---...     . .-..     .-. . ... - ---     -.. . .-.. .-.. .-     -.-. --- -. -.-. .-.. ..- .. .- -.     ... .- -.-- ---     -.. .     ...- . .-.. .- .-. - . --..--     -.-. .- .-.. --.. .- ...     -.. .     ...- . .-.. .-.. ..- -.. ---     .--. .- .-. .-     .-.. .- ...     ..-. .. . ... - .- ...     -.-. --- -.     ... ..- ...     .--. .- -. - ..- ..-. .-.. --- ...     -.. .     .-.. ---     -- .. ... -- --- --..--     -.--     .-.. --- ...     -.. .. .- ...     -.. .     . -. - .-. .     ... . -- .- -. .-     ... .     .... --- -. .-. .- -... .-     -.-. --- -.     ... ..-     ...- . .-.. .-.. --- .-. ..--     -.. .     .-.. ---     -- .- ...     ..-. .. -. --- ---...     - . -. .. .-     . -.     ... ..-     -.-. .- ... .-     ..- -. .-     .- -- .-     --.- ..- .     .--. .- ... .- -... .-     -.. .     .-.. --- ...     -.-. ..- .- .-. . -. - .- --..--     -.--     ..- -. .-     ... --- -... .-. .. -. .-     --.- ..- .     -. ---     .-.. .-.. . --. .- -... .-     .--.-     .-.. --- ...     ...- . .. -. - . --..--     -.--     ..- -.     -- --- --.. ---     -.. .     -.-. .- -- .--. ---     -.--     .--. .-.. .- --.. .- --..--     --.- ..- .     .- ... ..     . -. ... .. .-.. .-.. .- -... .-     . .-..     .-. --- -.-. .. -.     -.-. --- -- ---     - --- -- .- -... .-     .-.. .-     .--. --- -.. .- -.. . .-. .- ---...     ..-. .-. .. ... .- -... .-     .-.. .-     . -.. .- -..     -.. .     -. ..- . ... - .-. ---     .... .. -.. .- .-.. --. ---     -.-. --- -.     .-.. --- ...     -.-. .. -. -.-. ..- . -. - .-     .- --.-- --- ...     . .-. .-     -.. .     -.-. --- -- .--. .-.. . -..- .. --- -.     .-. . -.-. .. .- --..--     ... . -.-. ---     -.. .     -.-. .- .-. -. . ... --..--     . -. .--- ..- - ---     -.. .     .-. --- ... - .-. --- --..--     --. .-. .- -.     -- .- -.. .-. ..- --. .- -.. --- .-.     -.--     .- -- .. --. ---     -.. .     .-.. .-     -.-. .- --.. .- ---...     --.- ..- .. . .-. . -.     -.. . -.-. .. .-.     --.- ..- .     - . -. .. .-     . .-..     ... --- -... .-. . -. --- -- -... .-. .     -.. .     --.- ..- .. .--- .- -.. .-     ---...---     --.- ..- . ... .- -.. .-     --.- ..- .     . -.     . ... - ---     .... .- -.--     .- .-.. --. ..- -. .-     -.. .. ..-. . .-. . -. -.-. .. .-     . -.     .-.. --- ...     .- ..- - --- .-. . ...     --.- ..- .     -.. . ... - .     -.-. .- ... ---     . ... -.-. .-. .. -... . -. --..--     .- ..- -. --.- ..- .     .--. --- .-.     -.-. --- -. .--- . - ..- .-. .- ...     ...- . .-. --- ... ..-- -- .. .-.. . ...     ... .     -.. . .--- .-     . -. - . -. -.. . .-.     --.- ..- .     ... .     .-.. .-.. .- -- .- -... .-     --.- ..- .. .--- .- -. .- ---...     .--. . .-. ---     . ... - ---     .. -- .--. --- .-. - .-     .--. --- -.-. ---     .--.-     -. ..- . ... - .-. ---     -.-. ..- . -. - ---     -... .- ... - .-     --.- ..- .     . -.     .-.. .-     -. .- .-. .-. .- -.-. .. --- -.     -.. ..-.. .-..     -. ---     ... .     ... .- .-.. --. .-     ..- -.     .--. ..- -. - ---     -.. .     .-.. .-     ...- . .-. -.. .- -.. ---...     . ...     .--. ..- . ...     -.. .     ... .- -... . .-.     --.- ..- .     . ... - .     ... --- -... .-. . -.. .. -.-. .... ---     .... .. -.. .- .-.. --. ---     .-.. --- ...     .-. .- - --- ...     --.- ..- .     . ... - .- -... .-     --- -.-. .. --- ... ---     --.- ..- .     . .-. .- -.     .-.. --- ...     -- .- ...     -.. . .-..     .- --.-- ---     ... .     -.. .- -... .-     .--.-     .-.. . . .-.     .-.. .. -... .-. --- ...     -.. .     -.-. .- -... .- .-.. .-.. . .-. ..-- .- ... --..--     -.-. --- -.     - .- -. - .-     .- ..-. .. -.-. .. --- -.     -.--     --. ..- ... - --- --..--     --.- ..- .     --- .-.. ...- .. -.. ---...---     -.-. .- ... ..     -.. .     - --- -.. ---     .--. ..- -. - ---     . .-..     . .--- . .-. -.-. .. -.-. .. ---     -.. .     .-.. .-     -.-. .- --.. .- --..--     -.--     .- ..- -.     .-.. .-     .- -.. -- .. -. .. ... - .-. .- -.-. .. --- -.     -.. .     ... ..-     .... .- -.-. .. . -. -.. .-     -.--     .-.. .-.. . --. ---...---     .--.-     - .- -. - ---     ... ..-     -.-. .- ... .-     - --- -.. --- ...     -.-. ..- .- -. - --- ...     .--. ..- -.. ---     .... .- -... . .-.     -.. . .-.. .-.. --- ...     -.--     -.. .     - --- -.. --- ...     -. .. -. --. ..- -. --- ...     .-.. .     .--. .- .-. . -.-. .. .- -.     - .- -.     -... .. . -.     -.-. --- -- ---     .-.. --- ...     --.- ..- .     -.-. --- -- .--. ..- ... ---     . .-..     ..-. .- -- --- ... ---     ..-. . .-.. .. -.-. .. .- -. ---     -.. .     ... .. .-.. ...- .-     .--. --- .-. --.- ..- .     .-.. .-     -.-. .-.. .- .-. .. -.. .- -..     -.. .     ... ..-     .--. .-. --- ... .- --..--     -.--     .- --.- ..- . .-.. .-.. .- ...     . -. - .-. .. -.-. .- -.. .- ...     .-. .- --.. --- -. . ...     ... ..- -.-- .- ...     .-.. .     .--. .- .-. . -.-. .. .- -.     -.. .     .--. . .-. .-.. .- ...     -.--     -- .- ...     -.-. ..- .- -. -.. ---     .-.. .-.. . --. .- -... .-     .--.-     .-.. . . .-.     .- --.- ..- . .-.. .-.. --- ...     .-. . --.- ..- .. . -... .-. --- ...     -.--     -.-. .- .-. - .- ...     -.. .     -.. . ... .- ..-. ..-- --- --..--     -.. --- -. -.. .     . -.     -- ..- -.-. .... .- ...     .--. .- .-. - . ...     .... .- .-.. .-.. .- -... .-     . ... -.-. .-. .. - ---     .-.. .-     .-. .- --.. --- -.     -.. .     .-.. .-     ... .. -. .-. .- --.. --- -.     --.- ..- .     .--.-     -- ..     .-. .- --.. --- -.     ... .     .... .- -.-. . --..--     -.. .     - .- .-..     -- .- -. . .-. .-     -- ..     .-. .- --.. --- -.     . -. ..-. .-.. .- --.- ..- . -.-. .     --..--     --.- ..- .     -.-. --- -.     .-. .-     --.. --- -.     -- .     --.- ..- . .--- ---     -.. .     .-.. .-     ...- ..- . ... - .-. .-     ..-. . .-. -- --- ... ..- .-. .- ---...     -.--     - .- -- -... .. . -.     -.-. ..- .- -. -.. ---     .-.. . .. .-     .-.. --- ...     .- .-.. - --- ...     -.-. .. . .-.. --- ...     --.- ..- .     -.. .     ...- ..- . ... - .-. .-     -.. .. ...- .. -. .. -.. .- -..     -.. .. ...- .. -. .- -- . -. - .     -.-. --- -.     .-.. .- ...     . ... - .-. . .-.. .-.. .- ...     --- ...     ..-. --- .-. - .. ..-. .. -.-. .- -.     --..--     -.--     --- ...     .... .- -.-. . -.     -- . .-. . -.-. . -.. --- .-. .-     -.. . .-..     -- . .-. . -.-. .. -- .. . -. - ---     --.- ..- .     -- . .-. . -.-. .     .-.. .-     ...- ..- . ... - .-. .-     --. .-. .- -. -.. . --.. .- ---...     -.-. --- -.     . ... - .- ...     .-. .- --.. --- -. . ...     .--. . .-. -.. .. .-     . .-..     .--. --- -... .-. .     -.-. .- -... .- .-.. .-.. . .-. ---     . .-..     .--- ..- .. -.-. .. --- --..--     -.--     -.. . ... ...- . .-.. .--.- -... .- ... .     .--. --- .-.     . -. - . -. -.. . .-. .-.. .- ...     -.--     -.. . ... . -. - .-. .- --.-- .- .-. .-.. . ...     . .-..     ... . -. - .. -.. --- --..--     --.- ..- .     -. ---     ... .     .-.. ---     ... .- -.-. .--.- .-. .-     -. ..     .-.. .- ...     . -. - . -. -.. .. . .-. .-     . .-..     -- .. ... -- ---     .- .-. .. ... - ---...--- - . .-.. . ...     ... ..     .-. . ... ..- -.-. .. - .--.- .-. .-     .--. .- .-. .-     ... --- .-.. ---     . .-.. .-.. --- ---...     -. ---     . ... - .- -... .-     -- ..- -.--     -... .. . -.     -.-. --- -.     .-.. .- ...     .... . .-. .. -.. .- ...     --.- ..- .     -.. --- -.     -... . .-.. .. .- -. ..-- ...     -.. .- -... .-     -.--     .-. . -.-. .. -... .. .- --..--     .--. --- .-. --.- ..- .     ... .     .. -- .- --. .. -. .- -... .-     --.- ..- .     .--. --- .-.     --. .-. .- -. -.. . ...     -- .- . ... - .-. --- ...     --.- ..- .     .-.. .     .... ..- -... .. . ... . -.     -.-. ..- .-. .- -.. ---     -. ---     -.. . .--- .- .-. .. .-     -.. .     - . -. . .-.     . .-..     .-. --- ... - .-. ---     -.--     - --- -.. ---     . .-..     -.-. ..- . .-. .--. ---     .-.. .-.. . -. ---     -.. .     -.-. .. -.-. .- - .-. .. -.-. . ...     -.--     ... . --.--     .- .-.. . ... ---...     .--. . .-. ---     -.-. --- -.     - --- -.. ---     .- .-.. .- -... .- -... .-     . -.     ... ..-     .- ..- - --- .-.     .- --.- ..- . .-..     .- -.-. .- -... .- .-.     ... ..-     .-.. .. -... .-. ---     -.-. --- -.     .-.. .-     .--. .-. --- -- . ... .-     -.. .     .- --.- ..- . .-.. .-.. .-     .. -. .- -.-. .- -... .- -... .-.. .     .- ...- . -. - ..- .-. .- --..--     -.--     -- ..- -.-. .... .- ...     ...- . -.-. . ...     .-.. .     ...- .. -. ---     -.. . ... . ---     -.. .     - --- -- .- .-.     .-.. .-     .--. .-.. ..- -- .- --..--     -.--     -.. .- .-.. .-.. .     ..-. .. -.     .- .-..     .--. .. .     -.. .     .-.. .-     .-.. . - .-. .-     -.-. --- -- ---     .- .-.. .-.. ..--     ... .     .--. .-. --- -- . - .     -.--     ... .. -.     -.. ..- -.. .-     .- .-.. --. ..- -. .-     .-.. ---     .... .. -.-. .. . .-. .- --..--     -.--     .- ..- -.     ... .- .-.. .. . .-. .-     -.-. --- -.     . .-.. .-.. --- --..--     ... ..     --- - .-. --- ...     -- .- -.-- --- .-. . ...     -.--     -.-. --- -. - .. -. ..- --- ...     .--. . -. ... .- -- .. . -. - --- ...     -. ---     ... .     .-.. ---     . ... - --- .-. -... .--.- .-. .- -. ---...     - ..- ...- ---     -- ..- -.-. .... .- ...     ...- . -.-. . ...     -.-. --- -- .--. . - . -. -.-. .. .-     -.-. --- -.     . .-..     -.-. ..- .-. .-     -.. .     ... ..-     .-.. ..- --. .- .-.     --.- ..- .     . .-. .-     .... --- -- -... .-. .     -.. --- -.-. - --- --..--     --. .-. .- -.. ..- .- -.. ---     . -.     ... .. --. ..--. . -. --.. .-     ... --- -... .-. .     -.-. ..- .- .-..     .... .- -... .. .-     ... .. -.. ---     -- . .--- --- .-.     -.-. .- -... .- .-.. .-.. . .-. --- --..--     .--. .- .-.. -- . .-. .. -.     -.. .     .. -. --. .-.. .- - . .-. .-. .- --..--     ---...---     .- -- .- -.. .. ...     -.. .     --. .- ..- .-.. .-     -- .- ...     -- .- . ... .     -. .. -.-. --- .-.. .--.- ... --..--     -... .- .-. -... . .-. ---     -.. . .-..     -- .. ... -- ---     .--. ..- . -... .-.. --- --..--     -.. . -.-. .. .-     --.- ..- .     -. .. -. --. ..- -. ---     .-.. .-.. . --. .- -... .-     .- .-..     -.-. .- -... .- .-.. .-.. . .-. ---     -.. . .-..     ..-. . -... --- --..--     -.--     --.- ..- .     ... ..     .- .-.. --. ..- -. ---     ... .     .-.. .     .--. --- -.. .. .-     -.-. --- -- .--. .- .-. .- .-. --..--     . .-. .-     -.. --- -.     --. .- .-.. .- --- .-. --..--     .... . .-. -- .- -. ---     -.. .     .- -- .- -.. .. ...     -.. .     --. .- ..- .-.. .- --..--     .--. --- .-. --.- ..- .     - . -. .. .-     -- ..- -.--     .- -.-. --- -- --- -.. .- -.. .-     -.-. --- -. -.. .. -.-. .. --- -.     .--. .- .-. .-     - --- -.. ---     --.- ..- .     -. ---     . .-. .-     -.-. .- -... .- .-.. .-.. . .-. ---     -- . .-.. .. -. -.. .-. --- ... --- --..--     -. ..     - .- -.     .-.. .-.. --- .-. --- -.     -.-. --- -- ---     ... ..-     .... . .-. -- .- -. --- --..--     -.--     --.- ..- .     . -.     .-.. ---     -.. .     .-.. .-     ...- .- .-.. . -. - ..-- .-     -. ---     .-.. .     .. -... .-     . -.     --.. .- --. .- ---...     . -.     .-. . ... --- .-.. ..- -.-. .. --- -. --..--     ..-.. .-..     ... .     . -. ..-. .-. .- ... -.-. ---...---     - .- -. - ---     . -.     ... ..-     .-.. . -.-. - ..- .-. .- --..--     --.- ..- .     ... .     .-.. .     .--. .- ... .- -... .- -.     .-.. .- ...     -. --- -.-. .... . ...     .-.. . -.-- . -. -.. ---     -.. .     -.-. .-.. .- .-. ---     . -.     -.-. .-.. .- .-. --- --..--     -.--     .-.. --- ...     -.. .. .- ...     -.. .     - ..- .-. -... .. ---     . -.     - ..- .-. -... .. --- --..--     -.--     .- ... ..     -.. . .-..     .--. --- -.-. ---     -.. --- .-. -- .. .-.     -.--     -.. . .-..     -- ..- -.-. .... ---     .-.. . . .-.     ... .     .-.. .     ... . -.-. ---...---     . .-..     -.-. . .-.. . -... .-. ---     -.. .     -- .- -. . .-. .-     --.- ..- .     ...- .. -. ---     .--.-     .--. . .-. -.. . .-.     . .-..     .--- ..- .. -.-. .. --- ---...     .-.. .-.. . -. ---...--- ... . .-.. .     .-.. .-     ..-. .- -. - .- ... ..-- .-     -.. .     - --- -.. ---     .- --.- ..- . .-.. .-.. ---     --.- ..- .     .-.. . .. .-     . -.     .-.. --- ...     .-.. .. -... .-. --- ... --..--     .- ... ..     -.. .     . -. -.-. .- -. - .- -- . -. - --- ... --..--     -.-. --- -- ---     -.. .     .--. . -. -.. . -. -.-. .. .- ... --..--     -... .- - .- .-.. .-.. .- ... --..--     -.. . ... .- ..-. ..-- --- ... --..--     .... . .-. .. -.. .- ... --..--     .-. . --.- ..- .. . -... .-. --- ... --..--     .- -- --- .-. . ... --..--     - --- .-. -- . -. - .- ...     -.--     -.. .. ... .--. .- .-. .- - . ...     .. -- .--. --- ... .. -... .-.. . ... ---...     -.--     .- ... . -. - ---...--- ... . .-.. .     -.. .     - .- .-..     -- --- -.. ---     . -.     .-.. .-     .. -- .- --. .. -. .- -.-. .. --- -.     --.- ..- .     . .-. .-     ...- . .-. -.. .- -..     - --- -.. .-     .- --.- ..- . .-.. .-.. .-     -- .--.- --.- ..- .. -. .-     -.. .     .- --.- ..- . .-.. .-.. .- ...     ... --- --.-- .- -.. .- ...     .. -. ...- . -. -.-. .. --- -. . ...     --.- ..- .     .-.. . .. .- --..--     --.- ..- .     .--. .- .-. .-     ..-.. .-..     -. ---     .... .- -... .. .-     --- - .-. .-     .... .. ... - --- .-. .. .-     -- .- ...     -.-. .. . .-. - .-     . -.     . .-..     -- ..- -. -.. --- ---...     -.. . -.-. .. .-     ..-.. .-..     --.- ..- .     . .-..     -.-. .. -..     .-. ..- ..     -.. .. .- --..     .... .- -... .. .-     ... .. -.. ---     -- ..- -.--     -... ..- . -.     -.-. .- -... .- .-.. .-.. . .-. ---     .--. . .-. ---     --.- ..- .     -. ---     - . -. .. .-     --.- ..- .     ...- . .-.     -.-. --- -.     . .-..     -.-. .- -... .- .-.. .-.. . .-. ---     -.. .     .-.. .-     .- .-. -.. .. . -. - .     . ... .--. .- -.. .- --..--     --.- ..- .     -.. .     ... --- .-.. ---     ..- -.     .-. . ...- ..-.. ...     .... .- -... .. .-     .--. .- .-. - .. -.. ---     .--. --- .-.     -- . -.. .. ---     -.. --- ...     ..-. .. . .-. --- ...     -.--     -.. . ... -.-. --- -- ..- -. .- .-.. . ...     --. .. --. .- -. - . ... ---...     -- . .--- --- .-.     . ... - .- -... .-     -.-. --- -.     -... . .-. -. .- .-. -.. ---     -.. . .-..     -.-. .- .-. .--. .. ---     .--. --- .-. --.- ..- .     . -.     .-. --- -. -.-. . ... ...- .- .-.. .-.. . ...     .... .- -... .. .-     -- ..- . .-. - ---     .--.-     .-. --- .-.. -.. .- -.     . .-..     . -. -.-. .- -. - .- -.. --- --..--     ...- .- .-.. .. ..-.. -. -.. --- ... .     -.. .     .-.. .-     .. -. -.. ..- ... - .-. .. .-     -.. .     .... ..-.. .-. -.-. ..- .-.. . ...     -.-. ..- .- -. -.. ---     .- .... --- --. ---...---     .--.-     .- -. - . --- -. --..--     . .-..     .... .. .--- ---     -.. .     .-.. .-     - .. . .-. .-. .-     . -. - .-. .     .-.. --- ...     -... .-. .- --.. --- ... ---...     -.. . -.-. .. .-     -- ..- -.-. .... ---     -... .. . -.     -.. . .-..     --. .. --. .- -. - .     -- --- .-. --. .- -. - . --..--     .--. --- .-. --.- ..- .     -.-. --- -.     ... . .-.     -.. .     .- --.- ..- . .-.. .-.. .-     --. . -. . .-. .- -.-. .. --- -.     --. .. --. .- -. - . .- --..--     --.- ..- .     - --- -.. --- ...     ... --- -.     ... --- -... . .-. -... .. --- ...     -.--     -.. . ... -.-. --- -- . -.. .. -.. --- ... --..--     ..-.. .-..     ... --- .-.. ---     . .-. .-     .- ..-. .- -... .-.. .     -.--     -... .. . -.     -.-. .-. .. .- -.. --- ---...     .--. . .-. ---     ... --- -... .-. .     - --- -.. --- ...     . ... - .- -... .-     -... .. . -.     -.-. --- -.     .-. . -.-- -. .- .-.. -.. --- ...     -.. .     -- --- -. - .- .-.. ...- .- -. --..--     -.--     -- .- ...     -.-. ..- .- -. -.. ---     .-.. .     ...- . .. .-     ... .- .-.. .. .-.     -.. .     ... ..-     -.-. .- ... - .. .-.. .-.. --- --..--     -.--     .-. --- -... .- .-.     -.-. ..- .- -. - --- ...     - --- .--. .- -... .- --..--     -.--     -.-. ..- .- -. -.. ---     . -.     .- .-.. .-.. . -. -.. .     .-. --- -... ---...---     .- --.- ..- . .-..     ..-- -.. --- .-.. ---     -.. .     -- .- .... --- -- .- --..--     --.- ..- .     . .-. .-     - --- -.. ---     -.. .     --- .-. --- --..--     ... . --. ..- -.     -.. .. -.-. .     ... ..-     .... .. ... - --- .-. .. .- ---...     -.. .. . .-. .-     ..-.. .-.. --..--     .--. --- .-.     -.. .- .-.     ..- -. .-     -- .- -. ---     -.. .     -.-. --- -.-. . ...     .- .-..     - .-. .- .. -.. --- .-.     -.. .     --. .- .-.. .- .-.. --- -. --..--     .- .-..     .- -- .-     --.- ..- .     - . -. .. .-     -.--     .- ..- -.     .--.-     ... ..-     ... --- -... .-. .. -. .-     -.. .     .- --.-- .- -.. .. -.. ..- .-. .- ---..."
};

describe("Testing Arrays exercise 5 (morse encoder)", function() {
  var fs = require('fs');
  var script = fs.readFileSync('./ArraysEx5.js')+'';
  var metadata = getScriptMetadata(script);
  var req = new Function(MORSE + script + " return morseEnc; ");
  var morseEnc = req();

  var optionalTest, res;


  if(metadata.timestamp) {
    optionalTest = describe
  } else {
    optionalTest = xdescribe
  }

  optionalTest("Was delivered on time", function(){
    it("Before " + DeliveryLimit, function(){
      expect(new Date(+metadata.timestamp)).toBeLessThan(DeliveryLimit);
    })
  });

  res = morseEnc("Hola mundo");

  describe("Simple tests", function(){

    it("return an string", function() {
      expect(typeof res).toBe("string");
    });

    it("empty string", function() {
      expect(morseEnc("")).toBe("");
    });

    it("only not handled chars", function() {
      expect(morseEnc("&^^%%$#$%^")).toBe("");
    });

  });

  describe("good encoding (strings)", function() {

    texts.forEach(function(test) {
      it(test.text, function(){
          expect(morseEnc(test.text)).toBe(test.morse);
      });
    });

  });

  describe("good encoding (arrays)", function() {

    texts.forEach(function(test) {
      it(test.text, function(){
        expect(morseEnc(test.text.split(''))).toBe(test.morse);
      });
    });

  });

  describe("Long text with new dictionary", function() {

    var MORSE = 'var MORSE = [ { "morse": ".-", "char": "A" }, { "morse": "-...", "char": "B" }, { "morse": "-.-.", "char": "C" }, { "morse": "-..", "char": "D" }, { "morse": ".", "char": "E" }, { "morse": "..-.", "char": "F" }, { "morse": "--.", "char": "G" }, { "morse": "....", "char": "H" }, { "morse": "..", "char": "I" }, { "morse": ".---", "char": "J" }, { "morse": "-.-", "char": "K" }, { "morse": ".-..", "char": "L" }, { "morse": "--", "char": "M" }, { "morse": "-.", "char": "N" }, { "morse": "---", "char": "O" }, { "morse": ".--.", "char": "P" }, { "morse": "--.-", "char": "Q" }, { "morse": ".-.", "char": "R" }, { "morse": "...", "char": "S" }, { "morse": "-", "char": "T" }, { "morse": "..-", "char": "U" }, { "morse": "...-", "char": "V" }, { "morse": ".--", "char": "W" }, { "morse": "-..-", "char": "X" }, { "morse": "-.--", "char": "Y" }, { "morse": "--..", "char": "Z" }, { "morse": "-----", "char": "0" }, { "morse": ".----", "char": "1" }, { "morse": "..---", "char": "2" }, { "morse": "...--", "char": "3" }, { "morse": "....-", "char": "4" }, { "morse": ".....", "char": "5" }, { "morse": "-....", "char": "6" }, { "morse": "--...", "char": "7" }, { "morse": "---..", "char": "8" }, { "morse": "----.", "char": "9" }, { "morse": ".--.-", "char": "Á" }, { "morse": "..-..", "char": "É" }, { "morse": "..--", "char": "Í" }, { "morse": "---...---", "char": "Ó" }, { "morse": "..-..-", "char": "Ú" }, { "morse": "..--.", "char": "Ü" }, { "morse": "--.--", "char": "Ñ" }, { "morse": "--..--", "char": "," }, { "morse": "---...", "char": "." } ];';

    req = new Function(MORSE + script + " return morseEnc; ");
    var morseEnc = req();

    it("Don Quijote", function(){
      expect(morseEnc(veryLongText.text)).toBe(veryLongText.morse);
    });

  });

});
